{"version":3,"file":"Image-61c3e035.js","sources":["../../src/components/base/Image.tsx"],"sourcesContent":["import { css, styled } from '@mui/material';\nimport clsx from 'clsx';\nimport { type ComponentPropsWithRef, type FC, type ReactNode } from 'react';\n\nexport type ImageProps = ComponentPropsWithRef<'img'> & {\n\tcaption?: ReactNode;\n\tshape?: 'square' | 'portrait' | 'landscape';\n};\n\nconst BaseElement: FC<ImageProps> = ({\n\tclassName,\n\tonLoad: userOnLoad,\n\tonError: userOnError,\n\tcaption,\n\t...props\n}) => {\n\tconst onLoad: ImageProps['onLoad'] = event => {\n\t\tconsole.log('loaded');\n\n\t\tuserOnLoad?.(event);\n\t};\n\n\tconst onError: ImageProps['onError'] = event => {\n\t\tconsole.log('loaded');\n\n\t\tuserOnError?.(event);\n\t};\n\n\treturn (\n\t\t<figure className={clsx('Image-root', className)}>\n\t\t\t<img\n\t\t\t\tclassName=\"Image-element\"\n\t\t\t\tonLoad={onLoad}\n\t\t\t\tonError={onError}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t\t{caption && (\n\t\t\t\t<figcaption className=\"Image-caption\">{caption}</figcaption>\n\t\t\t)}\n\t\t</figure>\n\t);\n};\n\nexport const Image = styled(BaseElement)(({ theme, shape }) => {\n\tconst shapeCss = {\n\t\tsquare: css`\n\t\t\taspect-ratio: 1;\n\t\t`,\n\t\tportrait: css``,\n\t\tlandscape: css``\n\t}[shape ?? 'square'];\n\n\treturn css`\n\t\tmargin: unset;\n\t\tpadding: unset;\n\t\tborder: unset;\n\t\toutline: unset;\n\n\t\twidth: 100%;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr;\n\t\tgap: 0.5rem;\n\n\t\tbackground-color: var(--color-gray-200);\n\n\t\t/* FIXME: doesn't work well with caption, needs wrapper around image */\n\t\t${shapeCss}\n\n\t\t.Image-element {\n\t\t\toutline: unset;\n\t\t\tobject-fit: cover;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tborder-radius: 0.25rem;\n\t\t\taspect-ratio: 1;\n\t\t}\n\n\t\t&[loaded] {\n\t\t}\n\t`;\n});\n"],"names":["BaseElement","className","userOnLoad","userOnError","caption","props","onLoad","event","onError","jsxs","clsx","jsx","Image","styled","theme","shape","shapeCss","css"],"mappings":"4NASA,MAAAA,EAAA,CAAA,CAAqC,UAAAC,EACpC,OAAAC,EACQ,QAAAC,EACC,QAAAC,EACT,GAAAC,CAED,IAAA,CACC,MAAAC,EAAAC,GAAA,CACC,QAAA,IAAA,QAAA,EAEAL,GAAA,MAAAA,EAAAK,EAAkB,EAGnBC,EAAAD,GAAA,CACC,QAAA,IAAA,QAAA,EAEAJ,GAAA,MAAAA,EAAAI,EAAmB,EAGpB,OAAAE,EAAA,SAAA,CAAA,UAAAC,EAAA,aAAAT,CAAA,EAAA,SAAA,CAEEU,EAAA,MAAC,CAAA,UAAA,gBACU,OAAAL,EACV,QAAAE,EACA,GAAAH,CACI,CAAA,EACLD,GAAAO,EAAA,aAAA,CAAA,UAAA,gBAAA,SAAAP,EAAA,CAEgD,CAAA,CAAA,CAInD,EAEOQ,EAAAC,EAAAb,CAAA,EAAA,CAAA,CAAA,MAAAc,EAAA,MAAAC,KAAA,CACN,MAAAC,EAAA,CAAiB,OAAAC;AAAA;AAAA,IACR,SAAAA,IAGE,UAAAA,GACC,EAAAF,GAAA,QAAA,EAGZ,OAAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAOD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA4BR,CAAA"}